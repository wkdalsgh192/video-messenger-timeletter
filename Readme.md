> Team 5
>
> Team name: ìºí„°í”¼ğŸ›

# Time Letter ğŸ“®

## | íƒ€ì„ë ˆí„° :: ë‹¹ì‹ ì˜ ì¶”ì–µì„ ê°„ì§í•´ë“œë¦½ë‹ˆë‹¤. ë¯¸ë˜ì˜ ë‹¹ì‹ ê³¼ ì†Œí†µí•˜ëŠ” ê¸¸. íƒ€ì„ë ˆí„°â±

![ë¡œê³ -removebg-preview](Readme.assets/ë¡œê³ -removebg-preview.png)

> [ë©”ì¸ Page](Readme.assets/ë©”ì¸.gif)

> [ë ˆí„° ìƒì„± í˜ì´ì§€](Readme.assets/ë ˆí„°ìƒì„±.gif)

> [ì¡°íšŒ í˜ì´ì§€](Readme.assets/ë ˆí„°ì¡°íšŒ.gif)

> [ê·¸ë£¹ í˜ì´ì§€](Readme.assets/ê·¸ë£¹.gif) 

> [ë§ˆì´ í˜ì´ì§€](Readme.assets/ë§ˆì´í˜ì´ì§€.gif)

------

## ğŸ” What's TimeLetter

> Time Capsuleê³¼ Letterì˜ í•©ì„±ì–´

```
ì†Œì¤‘í•œ ì¶”ì–µì„ ë‹´ì•„ ë¯¸ë˜ë¡œ ë³´ë‚´ëŠ” ë¹„ë™ì‹œì„± ë©”ì‹œì§• ì„œë¹„ìŠ¤
```



## ğŸ“ Features

1. ë ˆí„° ìƒì„±ê¸°ëŠ¥
   * ì˜ìƒ ì—…ë¡œë“œ
     * íœ´ëŒ€í°ì—ì„œ ì´¬ì˜í•œ ì˜ìƒ ë° ì•¨ë²”ì— ì €ì¥ëœ ì˜ìƒ ì—…ë¡œë“œ
   * ì˜¤í”ˆ ì¡°ê±´ ì„¤ì •
     * ì˜¤í”ˆí•  ë‚ ì§œ ì§€ì •
   * ì¶”ì–µì˜ ì¥ì†Œ ì €ì¥
     * kakao mapì„ í†µí•´ ê¸°ì–µí•˜ê³  ì‹¶ì€ ì¥ì†Œ ì €ì¥
2. ë ˆí„° ì¡°íšŒ
   * ë ˆí„° ìƒì„± ì‹œ ë ˆí„° ì‹ë³„ìë¡œ ì‚¬ìš©ë˜ëŠ” ê³ ìœ  í† í°ì„ ë°œê¸‰
   * ì˜¤í”ˆ/ë¹„ì˜¤í”ˆ ë ˆí„°ë¥¼ êµ¬ë³„í•˜ì—¬ ë³¸ì¸ì—ê²Œ ìƒì„±ëœ ë ˆí„° ì œê³µ

3. ê·¸ë£¹ ê¸°ëŠ¥
   * ë©¤ë²„ ì¶”ê°€
     * ì´ë¦„ìœ¼ë¡œ ë©¤ë²„ ê²€ìƒ‰
4. ì•Œë¦¼ ê¸°ëŠ¥
   * ì„œë²„ì—ì„œ ë¶„ ë‹¨ìœ„ë¡œ ë ˆí„° í™•ì¸ í›„ ì•Œë¦¼ ì „ì†¡
   * ì‚¬ì´íŠ¸ ë‚´ë¶€ ì•Œë¦¼
     * ì•Œë¦¼ ë²„íŠ¼ìœ¼ë¡œ ì¡°íšŒ
   * ë¬¸ì ë©”ì‹œì§€
     * ì˜¤í”ˆ ë‚ ì§œì— ë¬¸ì ë©”ì‹œì§€ ë°œì†¡
5. ëª¨ë°”ì¼ í˜¸í™˜
   * ios, andriod, windows ê°„ì˜ í˜¸í™˜ ê°€ëŠ¥

- [**ì•Œë¦¼ ê¸°ëŠ¥**]

## ğŸŒ Browser Support

| <img src="https://user-images.githubusercontent.com/1215767/34348387-a2e64588-ea4d-11e7-8267-a43365103afe.png" alt="Chrome" width="16px" height="16px" /> Chrome | <img src="https://user-images.githubusercontent.com/1215767/34348590-250b3ca2-ea4f-11e7-9efb-da953359321f.png" alt="IE" width="16px" height="16px" /> Internet Explorer | <img src="https://user-images.githubusercontent.com/1215767/34348380-93e77ae8-ea4d-11e7-8696-9a989ddbbbf5.png" alt="Edge" width="16px" height="16px" /> Edge | <img src="https://user-images.githubusercontent.com/1215767/34348394-a981f892-ea4d-11e7-9156-d128d58386b9.png" alt="Safari" width="16px" height="16px" /> Safari | <img src="https://user-images.githubusercontent.com/1215767/34348383-9e7ed492-ea4d-11e7-910c-03b39d52f496.png" alt="Firefox" width="16px" height="16px" /> Firefox |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
|                             Yes                              |                             10+                              |                             Yes                              |                             Yes                              |                             Yes                              |

##  ğŸ“‚Tech Stack

### Tools

| Tool          | ê¸°ìˆ                                                  |
| ------------- | ---------------------------------------------------- |
| GitLab        | ê¸°ëŠ¥ë³„ branchë¥¼ ë‚˜ëˆ ì„œ ì½”ë“œ ë²„ì „ ê´€ë¦¬                |
| Jira          | Issue ê´€ë¦¬ë¥¼ ìœ„í•´ Gitê³¼ ì—°ë™í•˜ì—¬ ì‚¬ìš©                |
| Scrum Poker   | Jira Issue ë³„ ìŠ¤í”„ë¦°íŠ¸ ì‹œê°„ ê´€ë¦¬ë¥¼ ìœ„í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ |
| VS Code       | code êµ¬í˜„ì„ ìœ„í•œ Tool                                |
| Google Chrome | êµ¬í˜„í•œ í™”ë©´ì„ ì¶œë ¥í•˜ê¸° ìœ„í•œ ë¸Œë¼ìš°ì €                 |

### â—¾ Library

| Library | ë‚´ìš©                                      |
| ------- | ----------------------------------------- |
| Spring  | Backend êµ¬í˜„ì„ ìœ„í•œ Java web framework    |
| React   | Frontend êµ¬í˜„ì„ ìœ„í•œ JavaScript framework |

### â—¾ Software Language

| Language   | ê¸°ìˆ                |
| ---------- | ------------------ |
| Java       | Backend êµ¬í˜„ ì–¸ì–´  |
| JavaScript | Frontend êµ¬í˜„ ì–¸ì–´ |
| HTML/CSS   | Frontend êµ¬í˜„ ì–¸ì–´ |



## ğŸ”§ Architecture

**Entitiy Relationship Diagram**

![img](https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F21e51bed-8de9-46a4-a7c4-f278352e09f7%2FPJT_20210512_30_32.png?table=block&id=90f8629a-e566-457e-a83a-6b0b877eaa09&spaceId=1054213e-5131-43e9-b111-6fa0fef4ef77&width=3070&userId=07f12d2f-890c-4ab6-8cbb-953665ee5e6d&cache=v2)

**Sequence Diagrams**

- ë¡œê·¸ì¸

![erd](docs/assets/Sequence_ë¡œê·¸ì¸.png)



- íšŒì›ê°€ì…

![erd](docs/assets/Sequence_íšŒì›ê°€ì….png)



- ID/PW ì°¾ê¸°

![erd](docs/assets/Sequence_ID,ë¹„ë°€ë²ˆí˜¸ì°¾ê¸°.png)



- ìº¡ìŠìƒì„± ë° ì¡°íšŒ

![erd](docs/assets/Sequence_ìº¡ìŠìƒì„± ë° ì¡°íšŒ.png)



- ê·¸ë£¹ê´€ë¦¬

![erd](docs/assets/Sequence_ê·¸ë£¹ê´€ë¦¬.png)

## ğŸ“¦ Packages (M)

###  Frontend

| Name                        | Description                                                  |
| --------------------------- | ------------------------------------------------------------ |
| "@material-ui/core"         | React components  for faster and simpler web development. Build your own design system, or  start with Material Design |
| "@material-ui/icons"        | This package provides the Google Material  icons packaged as a set of React components. |
| "@material-ui/lab"          | This package hosts the incubator  components that are not yet ready to move to core. |
| "@reduxjs/toolkit"          | This package hosts the incubator  components that are not yet ready to move to core. |
| "@testing-library/jest-dom" | Custom jest matchers to test the  state of the DOM           |
| "@testing-library/react"    | Simple and complete React DOM  testing utilities that encourage good testing practices. |
| "antd"                      | An enterprise-class UI design  language and React UI library. |
| "axios"                     | Promise based HTTP client for  the browser and node.js       |
| "gsap"                      | GSAP is a robust JavaScript  toolset that turns developers into animation superheroes |
| "howler"                    | howler.js is an audio library  for the modern web            |
| "moment"                    | A JavaScript date library for  parsing, validating, manipulating, and formatting dates. |
| "node-sass"                 | Node-sass is a library that  provides binding for Node.js to LibSass, the C version of the popular  stylesheet preprocessor, Sass. |
| "react-device-detect"       | Detect device, and render view  according to the detected device type. |
| "react-dom"                 | This package serves as the entry  point to the DOM and server renderers for React |
| "react-scripts"             | This package includes scripts  and configuration used by Create React App.     Please refer to its documentation: |
| "react-howler"              | A React.js wrapper for howler.js  (audio player).            |
| "sweetalert"                | A beautiful replacement for  JavaScript's "alert"            |



### Backend

| Name           | Description                                                  |
| -------------- | ------------------------------------------------------------ |
| [`$mysql`]()   | MySQL connector                                              |
| [`$lombok`]()  | getter, setter, toString ë“±ì˜ ë©”ì„œë“œ ì‘ì„± ì½”ë“œë¥¼ ì¤„ì—¬ì£¼ëŠ” ì½”ë“œ ë‹¤ì´ì–´íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| [`$jjwt`]()    | JWT í† í° ìƒì„± ë° JWT í† í° íŒŒì‹±, ê²€ì¦ì„ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬     |
| [`$json`]()    | JavaScript Object Notation; ê²½ëŸ‰(Lightweight)ì˜ DATA-êµí™˜ í˜•ì‹ |
| [`$jackson`]() | JSON Convertor(ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì „ë‹¬í•œ DTOë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ë³€ê²½í•˜ê¸° ìœ„í•´ ì‚¬ |
| [`$swagger`]() | REST ì›¹ ì„œë¹„ìŠ¤ë¥¼ ì„¤ê³„, ë¹Œë“œ, ë¬¸ì„œí™”, ì†Œë¹„í•˜ëŠ” ì¼ì„ ë„ì™€ì£¼ëŠ” ëŒ€í˜• ë„êµ¬ ìƒíƒœê³„ì˜ ì§€ì›ì„ ë°›ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ì†Œí”„íŠ¸ì›¨ì–´ |



## ğŸ“š ì¤€ë¹„í•˜ê¸°

> DB ìƒì„±í•˜ê³  ì„¤ì • íŒŒì¼ application.properties(ë°±ì—”ë“œ), .env(í”„ë¡ íŠ¸ì—”ë“œ) íŒŒì¼ ìƒì„± ë° ì¶”ê°€í•˜ì‹œë©´ ë©ë‹ˆë‹¤

1. Git clone ë°›ê¸°

```
git clone https://lab.ssafy.com/s04-bigdata-sub3/s04p23d106.git
```

2. ë°ì´í„°ë² ì´ìŠ¤ ì¤€ë¹„

- 'timeletter' í…Œì´í„°ë² ì´ìŠ¤ ìƒì„±

```
CREATE SCHEMA `timeletter`;
```

-  í•„ìš”í•œ í…Œì´ë¸” ìƒì„±

[Database Tables](.docs/DBTable.sql)

3. [**Backend**] application.properties ì„¤ì •

- backend\src\main\resources í´ë” ì•„ë˜ ìƒì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤
- mysql ë„ë©”ì¸ê³¼ ì•„ì´ë””/ë¹„ë²ˆ ì‘ì„±

```
server:
	servlet:
		context-path: /timeletter

# fileupload 
spring:
	servlet:
		multipart:
			enabled:true
			max-file-size:500MB
			max-request-size:500MB
	datasource:
        driver-class-name: com.mysql.cj.jdbc.Driver
        url: jdbc:mysql://k4d105.p.ssafy.io/timeletter?serverTimeZone=UTC&CharacterEncoding=UTF-8
        username: caterpie
        password: password
	jpa:
        hibernate:
        	ddl-auto: none
        show-sql: false
        properties:
        	hibernate:
        		format_sql: true        
       
# jwt
jwt:
  header: Authorization
  secret: dGltZWxldHRlci1pcy1hLXNsb3ctbWVzc2FuZ2VyLXBsYXRmb3JtLXNlcnZpY2VkLWJ5LXRlYW0tY2F0ZXJwaWUtc2luY2UtMjAyMS1hbGwtcmlnaHRzLXJlc2VydmVkLWF0LWNhdGVycGllCg==
  token-validity-in-seconds: 86400

# logging
logging:
  level:
    com.caterpie: DEBUG
```

4. [Frontend] .env ì‘ì„±

- frontend í´ë” ì•„ë˜ ìƒì„±í•˜ì‹œë©´ ë©ë‹ˆë‹¤
- nginxì— ëª…ì‹œëœ locationì„ ë”°ë¼ê°‘ë‹ˆë‹¤

```
React_APP_SERVER_URL={ë„ë©”ì¸ì£¼ì†Œ}
React_APP_SPRING_URL={ë„ë©”ì¸ì£¼ì†Œ}/timeletter
React_APP_STORAGE_URL={ë„ë©”ì¸ì£¼ì†Œ}/videos
```

5. [Frontend] ëª¨ë“ˆ ë‹¤ìš´ë¡œë“œ

```
# frontend í´ë”ë¡œ ì´ë™í•´ì„œ ë‹¤ìš´
cd frontend/
npm install
```

6. [Backend] (Option) Spring bootë¥¼ build(jar íŒŒì¼ ìƒì„±)

```
# backend í´ë”ë¡œ ì´ë™í•´ì„œ Spring boot jar íŒŒì¼ ìƒì„±
cd backend/build/libs
./gradlew bootJar
```

<br />



## ğŸ ì‹¤í–‰í•˜ê¸°

1. ë°±ì—”ë“œ ì‹¤í–‰

- ìƒì„±í•œ jar íŒŒì¼ ì‹¤í–‰

```
java -jar [filename].jar //timeletter.jar
```

- í˜¹ì€ war íŒŒì¼ ìƒì„±í•˜ì§€ ì•Šê³  demonìœ¼ë¡œ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´ STSì™€ ê°™ì€ IDEAì—ì„œ Spring boot Runì„ ì‹¤í–‰í•˜ê±°ë‚˜ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‹¤í–‰

```
mvn spring-boot:run
```

2. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰

* íŒ¨í‚¤ì§€ ì„¤ì¹˜

```
$ npm i
```

* React ì‹¤í–‰

```
npm start
```

<br/>



## ğŸ–¥ ë°°í¬í•˜ê¸°

í•´ë‹¹ ì„œë¹„ìŠ¤ëŠ” AWS EC2ë¥¼ í†µí•´ ë°°í¬í•˜ì˜€ê³ 
Dockerì™€ Jenkinsë¥¼ ì´ìš©í•´ CI/CD êµ¬ì¶•í•˜ì˜€ìŠµë‹ˆë‹¤:

1. AWS EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„± (ubuntu)
2. docker ì„¤ì¹˜
3. í•„ìš”í•œ ì´ë¯¸ì§€ë¥¼ docker hubë¥¼ í†µí•´ ì„¤ì¹˜
   1. Jenkins
   2. MySQL
4. docker-compose.yml ì‘ì„±(services - `jenkins`, `db`, `frontend`  network: `caterpie`)
5. Jenkinsì™€ Gitlab repository ì—°ë™
6. MySQL ì»¨í…Œì´ë„ˆì— `timeletter` DB ìŠ¤í‚¤ë§ˆ ìƒì„±
7. Nginx ì„¤ì • (frontend/nginx í´ë”ì˜ default.conf)
8. frontend, backend í´ë” ì•ˆì— dockerfile ì‘ì„±
9. í”„ë¡œì íŠ¸ root ìœ„ì¹˜ì— Jenkins íŒŒì¼ ì‘ì„±
   1. Build and Test ê³¼ì •
   2. Build (frontend, backend)
   3. Run (ì»¨í…Œì´ë„ˆ ì‹¤í–‰)
10. `docker ps` ë¥¼ í†µí•´ frontend, backend, django ì»¨í…Œì´ë„ˆê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸ (Jenkins, MySQL í¬í•¨)

<br/>



## ğŸ’¬ Documents

* [Caterpie ë…¸ì…˜](https://www.notion.so/26c90b874578426d949367042e455a72)
* [ê³„íšì„œ](./ì‚°ì¶œë¬¼/í”„ë¡œì íŠ¸ ê³„íšì„œ ì–‘ì‹.pdf)
* [ì™€ì´ì–´í”„ë ˆì„](./ì‚°ì¶œë¬¼/íƒ€ì„ìº¡ìŠ Wireframe.pdf)
* [ê¸°ëŠ¥ëª…ì„¸ì„œ](./ì‚°ì¶œë¬¼/ììœ¨í”„ë¡œì íŠ¸_ê¸°ëŠ¥ëª…ì„¸ì„œ.pdf)
* [í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤](./ì‚°ì¶œë¬¼/í™”ë©´ë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë° ì¡°ì¹˜ì‚¬í•­.pdf)
* [ë°œí‘œìë£Œ - ê¸°íš](./ì‚°ì¶œë¬¼/D105_ê¸°íšë°œí‘œ.pdf)
* [ë°œí‘œìë£Œ - ìµœì¢…](./ì‚°ì¶œë¬¼/D105_ìµœì¢…ë°œí‘œ.pdf)


## ğŸ‘¥ Contributer

- ì•ˆì„¸ìµ(FE)
- ì´ëŒ€í—Œ(FE)
- ì´í˜œì§„(FE)
- ì¥ë¯¼í˜¸(BE)
- ì¡°í˜„ì„­(BE)

## ğŸš€ References

- [Markdownify - README.md](https://github.com/amitmerchant1990/electron-markdownify#related)
- [TOAST UI Editor - README.md](https://github.com/nhn/tui.editor#readme)


## ğŸ“œ License

This software is licensed under the [MIT](.docs/LICENSE) Â© [SSAFY](https://www.ssafy.com/ksp/jsp/swp/swpMain.jsp).

